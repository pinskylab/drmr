% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/marg.R
\name{marg}
\alias{marg}
\alias{marg.adrm}
\title{Marginal Relationships with Covariates}
\usage{
marg(object, ...)

\method{marg}{adrm}(
  object,
  process = c("rec", "surv", "pabs"),
  variable,
  newdata = NULL,
  n_pts = 100,
  summary = TRUE,
  probs = c(0.05, 0.5, 0.95),
  ...
)
}
\arguments{
\item{object}{An object of class \code{adrm}, typically the output of
\code{fit_drm()}.}

\item{...}{Additional arguments passed to methods.}

\item{process}{A character string indicating the process to evaluate:
\code{"rec"} (recruitment), \code{"surv"} (survival), or \code{"pabs"}
(probability of absence).}

\item{variable}{A character vector with the name(s) of the focal variable(s)
to examine.}

\item{newdata}{An optional \code{data.frame} containing the values for the
focal variable(s). If \code{NULL}, a grid is generated automatically based
on the observed range in the model matrix.}

\item{n_pts}{An integer specifying the number of points to generate for the
sequence of each focal variable when \code{newdata} is
\code{NULL}. Default is 100.}

\item{summary}{Logical. If \code{TRUE} (the default), returns the quantiles
of the posterior predictions. If \code{FALSE}, returns the raw posterior
draws.}

\item{probs}{A numeric vector of probabilities to be passed to
\code{posterior::quantile2} when \code{summary = TRUE}. Defaults to
\code{c(0.05, 0.5, 0.95)} (representing the lower bound, median, and upper
bound).}
}
\value{
A \code{data.frame} with the posterior summaries (or draws) for the
specified process. If \code{summary = TRUE}, it also receives the class
\code{marg_adrm} to enable automated plotting.
}
\description{
Evaluates and summarizes the marginal relationships between
explanatory variables and recruitment, survival, or absence probability
from a fitted DRM model.
}
\details{
The \code{marg} function computes the predicted relationships
across a sequence of values for a focal variable (or variables), holding
all other non-focal variables in the model matrix at zero.

When \code{summary = TRUE}, the function calculates credible intervals
using \code{\link[posterior]{quantile2}}, which is highly optimized for
posterior draws.
}
\author{
lcgodoy
}
